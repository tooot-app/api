diff --git a/node_modules/bn.js/lib/bn.js b/node_modules/bn.js/lib/bn.js
index 3a4371e..7328746 100644
--- a/node_modules/bn.js/lib/bn.js
+++ b/node_modules/bn.js/lib/bn.js
@@ -1,3 +1,5 @@
+import Buffer from 'buffer/'
+
 (function (module, exports) {
   'use strict';
 
@@ -48,16 +50,6 @@
   BN.BN = BN;
   BN.wordSize = 26;
 
-  var Buffer;
-  try {
-    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {
-      Buffer = window.Buffer;
-    } else {
-      Buffer = require('buffer').Buffer;
-    }
-  } catch (e) {
-  }
-
   BN.isBN = function isBN (num) {
     if (num instanceof BN) {
       return true;
@@ -526,7 +518,7 @@
   };
 
   BN.prototype.toBuffer = function toBuffer (endian, length) {
-    assert(typeof Buffer !== 'undefined');
+    assert(typeof Buffer.Buffer !== 'undefined');
     return this.toArrayLike(Buffer, endian, length);
   };
 
